{"ast":null,"code":"import { products } from '../products';\nimport { categories } from \"../categories\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/clipboard\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../product-alerts/product-alerts.component\";\nfunction ProductListComponent_div_2_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r1.images[0], i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductListComponent_div_2_div_1_img_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 9);\n  }\n}\nfunction ProductListComponent_div_2_div_1_pre_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"pre\");\n    i0.ɵɵtext(1, \"Description:\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", product_r1.description, \"\\n        \");\n  }\n}\nfunction ProductListComponent_div_2_div_1_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"a\", 10);\n    i0.ɵɵtext(2, \" To Kaspi.kz \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"href\", product_r1.link, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a1, a2) {\n  return [\"/products/\", a1, a2];\n};\nconst _c1 = function () {\n  return [];\n};\nfunction ProductListComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\")(2, \"a\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, ProductListComponent_div_2_div_1_div_4_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtemplate(6, ProductListComponent_div_2_div_1_img_6_Template, 1, 0, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ProductListComponent_div_2_div_1_pre_7_Template, 4, 1, \"pre\", 2);\n    i0.ɵɵtemplate(8, ProductListComponent_div_2_div_1_p_8_Template, 3, 1, \"p\", 2);\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const product_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.share(product_r1.link, \"https://web.telegram.org/k/\"));\n    });\n    i0.ɵɵtext(12, \" Share \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const product_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.Onlike(product_r1));\n    });\n    i0.ɵɵtext(14, \"Like\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"app-product-alerts\", 7);\n    i0.ɵɵlistener(\"notify\", function ProductListComponent_div_2_div_1_Template_app_product_alerts_notify_15_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.onNotify());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"title\", product_r1.name + \" details\")(\"routerLink\", i0.ɵɵpureFunction2(9, _c0, product_r1.category, product_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"> \", product_r1.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.images);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(12, _c1).constructor(product_r1.rating));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.link);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Likes: \", product_r1.likes, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"product\", product_r1);\n  }\n}\nfunction ProductListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, ProductListComponent_div_2_div_1_Template, 16, 13, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.category == ctx_r0.category.category);\n  }\n}\nexport class ProductListComponent {\n  constructor(clipboard, route) {\n    this.clipboard = clipboard;\n    this.route = route;\n    this.products = products;\n    this.category = {};\n  }\n  ngOnInit() {\n    const categoryname = String(this.route.snapshot.paramMap.get('Category'));\n    this.category = categories.find(x => x.category === categoryname);\n  }\n  share(link, destination) {\n    window.alert('The product has been shared!');\n    this.clipboard.copy(link);\n    window.open(destination);\n  }\n  Onlike(current) {\n    current.likes += 1;\n  }\n  onNotify() {\n    window.alert('You will be notified when the product goes on sale');\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.Clipboard), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[\"class\", \"block\", 4, \"ngFor\", \"ngForOf\"], [1, \"block\"], [4, \"ngIf\"], [3, \"title\", \"routerLink\"], [\"src\", \"https://pngicon.ru/file/uploads/zvezda.png\", \"height\", \"30px\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 3, \"click\"], [3, \"click\"], [3, \"product\", \"notify\"], [\"height\", \"300px\", 3, \"src\"], [\"src\", \"https://pngicon.ru/file/uploads/zvezda.png\", \"height\", \"30px\"], [\"target\", \"\\u201D_blank\\u201D\", 3, \"href\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ProductListComponent_div_2_Template, 2, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i4.ProductAlertsComponent],\n  styles: [\".block[_ngcontent-%COMP%]{\\r\\n    border:1px solid black;\\r\\n    padding: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7QUFDakI7O0FBRUE7Ozs7Q0FJQyIsInNvdXJjZXNDb250ZW50IjpbIi5ibG9ja3tcclxuICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcblxyXG4vKlxyXG5Db3B5cmlnaHQgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdFxyXG5jYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxyXG4qLyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAiBA,QAAQ,QAAO,aAAa;AAE7C,SAAmBC,UAAU,QAAO,eAAe;;;;;;;;ICM3CC,2BAA4B;IACxBA,yBAA8C;IAClDA,iBAAM;;;;IADGA,eAAyB;IAAzBA,4DAAyB;;;;;IAG9BA,yBAAqH;;;;;IAEzHA,2BAAiC;IAAAA,4BAAY;IAAAA,qBAAI;IAAAA,YACjD;IAAAA,iBAAM;;;;IAD2CA,eACjD;IADiDA,+DACjD;;;;;IACAA,yBAAwB;IAEhBA,6BACJ;IAAAA,iBAAI;;;;IAFDA,eAAqB;IAArBA,wDAAqB;;;;;;;;;;;;IAhBhCA,2BAAmD;IAGmBA,YAE9D;IAAAA,iBAAI;IAERA,iFAEM;IACNA,2BAAK;IACDA,iFAAqH;IACzHA,iBAAM;IACNA,iFACM;IACNA,6EAII;IACJA,yBAAG;IAAAA,aAAwB;IAAAA,iBAAI;IAC/BA,kCAAmF;IAA7DA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAoB,6BAA6B,CAAC;IAAA,EAAC;IAC9EA,wBACJ;IAAAA,iBAAS;IACTA,kCAAkC;IAA1BA;MAAAA;MAAA;MAAA;MAAA,OAASA,yCAAe;IAAA,EAAC;IAACA,qBAAI;IAAAA,iBAAS;IAC/CA,8CAE8B;IAAtBA;MAAAA;MAAA;MAAA,OAAUA,iCAAU;IAAA,EAAC;IAC7BA,iBAAqB;;;;IA1BdA,eAAmC;IAAnCA,oDAAmC;IACwBA,eAE9D;IAF8DA,iDAE9D;IAEEA,eAAoB;IAApBA,wCAAoB;IAIHA,eAAiC;IAAjCA,oFAAiC;IAElDA,eAAyB;IAAzBA,6CAAyB;IAE3BA,eAAkB;IAAlBA,sCAAkB;IAKnBA,eAAwB;IAAxBA,sDAAwB;IAMnBA,eAAmB;IAAnBA,oCAAmB;;;;;IA3BnCA,8BAAoD;IAChDA,6EA6BM;IACVA,iBAAM;;;;;IA9BIA,eAA2C;IAA3CA,sEAA2C;;;ADSrD,OAAM,MAAOC,oBAAoB;EAG/BC,YAAoBC,SAAoB,EAASC,KAAoB;IAAjD,cAAS,GAATD,SAAS;IAAoB,UAAK,GAALC,KAAK;IAFtD,aAAQ,GAAGN,QAAQ;IAGjB,IAAI,CAACO,QAAQ,GAAG,EAAgB;EAClC;EACAC,QAAQ;IACN,MAAMC,YAAY,GAAGC,MAAM,CAAC,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC;IACzE,IAAI,CAACN,QAAQ,GAAGN,UAAU,CAACa,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACR,QAAQ,KAAKE,YAAY,CAAe;EACnF;EACAO,KAAK,CAACC,IAAW,EAAEC,WAAkB;IACnCC,MAAM,CAACC,KAAK,CAAC,8BAA8B,CAAC;IAC5C,IAAI,CAACf,SAAS,CAACgB,IAAI,CAACJ,IAAI,CAAC;IACzBE,MAAM,CAACG,IAAI,CAACJ,WAAW,CAAC;EAC1B;EACAK,MAAM,CAACC,OAAe;IACpBA,OAAO,CAACC,KAAK,IAAE,CAAC;EAClB;EACAC,QAAQ;IACNP,MAAM,CAACC,KAAK,CAAC,oDAAoD,CAAC;EACpE;;AApBWjB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZjC7B,0BAAI;MAAAA,wBAAQ;MAAAA,iBAAK;MAEjBA,qEA+BM;;;MA/BiCA,eAAW;MAAXA,sCAAW","names":["products","categories","i0","ProductListComponent","constructor","clipboard","route","category","ngOnInit","categoryname","String","snapshot","paramMap","get","find","x","share","link","destination","window","alert","copy","open","Onlike","current","likes","onNotify","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\aytzh\\WebstormProjects\\WEB-dev\\Lab5\\src\\app\\product-list\\product-list.component.ts","C:\\Users\\aytzh\\WebstormProjects\\WEB-dev\\Lab5\\src\\app\\product-list\\product-list.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Clipboard } from '@angular/cdk/clipboard';\r\nimport {Product, products} from '../products';\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {Categories,categories} from \"../categories\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListComponent {\r\n  products = products;\r\n  category:Categories;\r\n  constructor(private clipboard: Clipboard,private route:ActivatedRoute) {\r\n    this.category = {} as Categories;\r\n  }\r\n  ngOnInit() :void {\r\n    const categoryname = String(this.route.snapshot.paramMap.get('Category'))\r\n    this.category = categories.find((x) => x.category === categoryname) as Categories;\r\n  }\r\n  share(link:string, destination:string) {\r\n    window.alert('The product has been shared!');\r\n    this.clipboard.copy(link);\r\n    window.open(destination);\r\n  }\r\n  Onlike(current:Product){\r\n    current.likes+=1;\r\n  }\r\n  onNotify() {\r\n    window.alert('You will be notified when the product goes on sale');\r\n  }\r\n}\r\n\r\n\r\n/*\r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at https://angular.io/license\r\n*/","<h2>Products</h2>\r\n\r\n<div class=\"block\" *ngFor=\"let product of products\">\r\n    <div *ngIf=\"product.category == category.category\">\r\n        <h3>\r\n            <a [title]=\"product.name + ' details'\"\r\n               [routerLink]=\"['/products/', product.category,product.id]\">>\r\n                {{ product.name }}\r\n            </a>\r\n        </h3>\r\n        <div *ngIf=\"product.images\">\r\n            <img [src]='product.images[0]' height=\"300px\">\r\n        </div>\r\n        <div>\r\n            <img *ngFor=\"let _ of [].constructor(product.rating)\" src=\"https://pngicon.ru/file/uploads/zvezda.png\" height=\"30px\">\r\n        </div>\r\n        <pre *ngIf=\"product.description\">Description:<br>{{product.description}}\r\n        </pre>\r\n        <p *ngIf=\"product.link\">\r\n            <a [href]=\"product.link\" target=”_blank”>\r\n                To Kaspi.kz\r\n            </a>\r\n        </p>\r\n        <p>Likes: {{product.likes}}</p>\r\n        <button type=\"button\" (click)=\"share(product.link, 'https://web.telegram.org/k/')\">\r\n            Share\r\n        </button>\r\n        <button (click)=\"Onlike(product)\">Like</button>\r\n        <app-product-alerts\r\n                [product]=\"product\"\r\n                (notify)=\"onNotify()\">\r\n        </app-product-alerts>\r\n    </div>\r\n</div>\r\n\r\n\r\n<!-- \r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at https://angular.io/license\r\n-->"]},"metadata":{},"sourceType":"module","externalDependencies":[]}